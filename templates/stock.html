<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <title>Stock Manager</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='stock.css') }}?v=1.0.7">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}?v=1.0.7">
</head>
<body>
  <div class="container">
    <div class="sidebar">
      <div class="home-button" onclick="window.location.href='/'">ğŸ  Home</div>
      <h2>Stock</h2>
      <button id="add-stock-btn">+ Add Item</button>
      <button id="openSummary">ğŸ“ˆ View Profit Reports</button>
    </div>

    <div class="main-content">
      <input type="text" id="search-input" placeholder="Filter items...">
      <div id="stock-list" class="stock-cards"></div>
    </div>
  </div>

  <div id="stock-modal" class="modal hidden">
    <div class="modal-content form-layout">
      <h2 id="modal-title" class="modal-title">Add New Stock Item</h2>
      <div class="form-group"><label>Name</label><input type="text" id="stock-name" placeholder="e.g. Americano"></div>
      <div class="form-group"><label>Venue</label><input type="text" id="stock-venue" placeholder="e.g. Kings Langley"></div>
      <div class="form-group"><label>Price (Â£)</label><input type="number" id="stock-price" placeholder="e.g. 2.50" step="0.01"></div>
      <div class="form-group"><label>Cost Price (Â£)</label><input type="number" id="stock-cost" placeholder="e.g. 0.75" step="0.01"></div>
      <div class="form-group"><label>Initial Stock</label><input type="number" id="stock-qty" placeholder="e.g. 50"></div>
      <div class="form-group"><label>Description</label><input type="text" id="stock-desc" placeholder="Optional notes..."></div>
      <div class="form-group"><label>Image URL</label><input type="text" id="stock-img" placeholder="https://..."></div>
      <div class="form-actions">
        <button id="save-stock-btn" class="btn btn-green">Save</button>
        <button onclick="closeModal('stock-modal')" class="btn btn-red">Cancel</button>
      </div>
    </div>
  </div>

  <!-- <div id="reportModal" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close" id="closeReportModal">&times;</span>
      <h2>Profit Report</h2>
      <div id="report-results" class="report-table-container"></div>
    </div>
  </div> -->

  <script src="{{ url_for('static', filename='stock.js') }}?v=1.0.7"></script>
  <script src="{{ url_for('static', filename='jquery-3.7.1.slim.min.js') }}?v=1.0.7"></script>

<!-- ğŸ“Š Unified Financial Report Modal -->
<div id="financialModal" class="modal">
  <div class="modal-content">
    <h2>Financial Report</h2>

    <!-- Revenue Summary Section -->
    <div class="revenue-summary">
      <p><strong>Total Paid Revenue:</strong> Â£<span id="summary-paid">0.00</span></p>
      <p><strong>Unpaid Losses:</strong> Â£<span id="summary-losses">0.00</span></p>
      <p><strong>Net Revenue:</strong> Â£<span id="summary-net">0.00</span></p>
    </div>

    <!-- Profit Table Section -->
    <div id="report-results" class="report-table-container"></div>

    <button onclick="closeModal('financialModal')">Close</button>
  </div>
</div>
</body>
</html>
